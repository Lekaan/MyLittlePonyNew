@using MyLittlePonyNew.Models;
@using MyLittlePonyNew.ViewModel;
@model IndexViewModel;
@{
    ViewData["Title"] = "Blogposts";
}
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>BlogPosts</title>
</head>
<body style="background: #555">
    <div style="background: white; width: 80%; margin: 20px auto; padding: 20px;">
        <h1>Blogposts</h1>
        <hr />
        <div style="width: 50%; margin: 20px auto; padding: 20px;">
            @using (@Html.BeginForm("GetWithAuthor", "Home", FormMethod.Post))
            {
                <p>Enter Author name:</p>
                @Html.TextBox("txtAuthor")
                <input id="btnSearch" type="submit" value="Search" />
            }

            <br />
            @if(!string.IsNullOrEmpty(Model.AuthorName))
            {
                @Html.ActionLink("Create new post", "Index", "CreatePost")
            }
            @foreach (var post in Model.BlogPosts)
            {
                <div style="width: 100%; padding: 20px;">
                    <h1>@post.Title</h1>@post.Author - @post.CreateDate
                    <hr />
                    @post.Content
                </div>
            }
        </div>
    </div>
</body>
</html>
